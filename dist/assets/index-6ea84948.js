import{d as S,u as U,r as m,a as k,b as C,c as B,e as n,o as F,f as P,g as e,w as a,h as s,i as R,l as $,j as b,E as f,p as z,k as H,m as g,_ as T}from"./index-c7a0cc4e.js";import{g as j}from"./time-e894181e.js";const w=d=>(z("data-v-d186986e"),d=d(),H(),d),q={class:"login_container"},L=w(()=>g("h1",null,"Hello",-1)),A=w(()=>g("h2",null,"欢迎登陆立泰ERP查询系统",-1)),D=S({__name:"index",setup(d){let v=U(),p=m(),x=k(),h=C(),i=m(!1),l=B({name:"zhaoxi-admin",password:"123456"});const y=async()=>{await p.value.validate(),i.value=!0;try{await v.userLogin(l);let r=h.query.redirect;x.push({path:r||"/"}),f({type:"success",message:"欢迎回来",title:`HI,${j()}好`}),i.value=!1}catch(r){i.value=!1,f({type:"error",message:r.message})}},V={username:[{trigger:"change",validator:(r,o,t)=>{o.length>=5?t():t(new Error("账号长度至少五位"))}}],password:[{trigger:"change",validator:(r,o,t)=>{o.length>=6?t():t(new Error("密码长度至少六位"))}}]};return(r,o)=>{const t=n("el-col"),c=n("el-input"),u=n("el-form-item"),E=n("el-button"),N=n("el-form"),I=n("el-row");return F(),P("div",q,[e(I,null,{default:a(()=>[e(t,{span:12,xs:0}),e(t,{span:12,xs:24},{default:a(()=>[e(N,{class:"login_form",model:s(l),rules:V,ref_key:"loginForms",ref:p},{default:a(()=>[L,A,e(u,{prop:"name"},{default:a(()=>[e(c,{"prefix-icon":s(R),modelValue:s(l).name,"onUpdate:modelValue":o[0]||(o[0]=_=>s(l).name=_)},null,8,["prefix-icon","modelValue"])]),_:1}),e(u,{prop:"password"},{default:a(()=>[e(c,{type:"password","prefix-icon":s($),modelValue:s(l).password,"onUpdate:modelValue":o[1]||(o[1]=_=>s(l).password=_),"show-password":""},null,8,["prefix-icon","modelValue"])]),_:1}),e(u,null,{default:a(()=>[e(E,{loading:s(i),class:"login_btn",type:"primary",size:"default",onClick:y},{default:a(()=>[b("登录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}});const O=T(D,[["__scopeId","data-v-d186986e"]]);export{O as default};
